(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4198],{48388:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/invoices",function(){return r(60910)}])},67526:function(e,t,r){"use strict";r.d(t,{e:function(){return BadgeStatus}});var a=r(85893),n=r(86010);r(67294);let i={warning:"bg-yellow-300 text-yellow-800",info:"bg-sky-600 text-white",success:"bg-emerald-200 text-emerald-900",danger:"bg-rose-300 text-rose-800"},BadgeStatus=e=>{let{id:t,title:r,variant:s}=e;return(0,a.jsx)("span",{id:t,className:(0,n.Z)("inline-flex rounded-sm px-2 text-xs font-semibold leading-5 print:p-0",i[s]),children:r})}},73536:function(e,t,r){"use strict";r.d(t,{II:function(){return c},XZ:function(){return l},e6:function(){return Range},qw:function(){return DebouncedInput}});var a=r(85893),n=r(86010),i=r(67294),s=r(69854);let c=i.forwardRef((e,t)=>{let{type:r="text",className:i,...s}=e;return(0,a.jsx)("div",{className:"flex flex-col items-start",children:(0,a.jsx)("input",{className:(0,n.Z)("relative block w-full appearance-none rounded-none border border-primary-500 bg-secondary-700 px-3 py-2 text-xs text-white placeholder-secondary-200 focus:z-10 focus:border-primary-500 focus:outline-none focus:ring-primary-500 disabled:cursor-not-allowed disabled:opacity-75","!rounded-md !border-bg-color !bg-secondary-200 !text-black !placeholder-black/60 accent-secondary-800 !ring-0 placeholder:text-xs focus:!bg-white focus:!ring-transparent dark:!text-secondary-800 dark:!placeholder-secondary-800",i),type:r,ref:t,...s})})});c.displayName="Input";let l=i.forwardRef((e,t)=>{let{id:r,children:i,className:c,classNameLabel:l,...o}=e;return(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("input",{type:"checkbox",className:(0,n.Z)("h-4 w-4 cursor-pointer rounded border-primary-600 text-black focus:ring-primary-400 focus:ring-offset-bg-color",c),ref:t,id:r,...o}),(0,a.jsx)(s._,{htmlFor:r,className:(0,n.Z)("ml-3 block cursor-pointer select-none text-sm text-white",l),children:i})]})});l.displayName="Checkbox";let Range=e=>(0,a.jsx)("input",{type:"range",className:"range-lg h-2 w-full cursor-pointer appearance-none rounded-lg bg-secondary-200 accent-primary-500",...e}),DebouncedInput=e=>{let{value:t,onChange:r,debounce:n=500,...s}=e,[l,o]=i.useState(t);return i.useEffect(()=>{o(t)},[t]),i.useEffect(()=>{let e=setTimeout(()=>{r(l)},n);return()=>clearTimeout(e)},[l]),(0,a.jsx)(c,{...s,value:l,className:"!rounded-md",onChange:e=>o(e.target.value)})}},69854:function(e,t,r){"use strict";r.d(t,{_:function(){return Label}});var a=r(85893),n=r(86010);r(67294);let Label=e=>{let{htmlFor:t,value:r,className:i,children:s}=e;return(0,a.jsx)("label",{htmlFor:t,className:(0,n.Z)("block text-xs font-medium text-text-color",i),children:r||s})}},60910:function(e,t,r){"use strict";r.r(t),r.d(t,{__N_SSP:function(){return I}});var a=r(85893),n=r(77218),i=r(47533),s=r(13524),c=r(30381),l=r.n(c),o=r(28677),d=r(90210),u=r(87536),m=r(16310),x=r(67294),f=r(11163),v=r(30167),h=r(67526),p=r(94212),g=r(73536),y=r(69854),b=r(93327),N=r(22849),w=r(79157),j=r(32758),_=r(6254),P=r(75823),T=r(50357),O=r(27179),S=r(21971);let Z=m.Ry({invoice:m.Z_().required("Invoice is a required field")}).required(),k={startDate:(0,s.Z)(new Date,"yyyy-MM-dd"),endDate:(0,s.Z)(new Date,"yyyy-MM-dd"),startTime:"00:00:00",endTime:"23:00:00"},D="true"===(0,d.OB)("NEXT_PUBLIC_HAS_LAST_TRANSACTION"),E="true"===(0,d.OB)("NEXT_PUBLIC_HAS_LIVE_TRANSACTION");var I=!0;t.default=(0,j.Z)(e=>{let{meta:t,orders:r}=e,[c,m]=x.useState(!1),v=(0,f.useRouter)(),{t:j}=(0,o.$G)(["common","invoice"]),{register:I,handleSubmit:A}=(0,u.cI)({resolver:(0,i.X)(Z)}),C=A(e=>{m(!0),v.push("/invoices/".concat(e.invoice))}),R=x.useMemo(()=>[{header:j("dashboard:table.date"),footer:e=>e.column.id,cell:e=>{var t;let{row:r}=e;return l()(null===(t=r.original)||void 0===t?void 0:t.updatedAt).format("DD-MM-YYYY HH:mm:ss")}},{header:j("dashboard:table.inv"),footer:e=>e.column.id,cell:e=>{var t;let{row:r}=e;return null===(t=r.original)||void 0===t?void 0:t.invoiceNumber}},{header:j("dashboard:table.hp"),footer:e=>e.column.id,cell:e=>{var t;let{row:r}=e;return null===(t=r.original)||void 0===t?void 0:t.phoneNumber}},{header:j("dashboard:table.price"),footer:e=>e.column.id,cell:e=>{var t,r;let{row:n}=e;return(0,a.jsx)("span",{children:(0,P.lb)(null===(t=n.original)||void 0===t?void 0:t.totalAmount,null===(r=n.original)||void 0===r?void 0:r.currency)})}},{header:j("dashboard:table.status"),footer:e=>e.column.id,cell:e=>{var t,r;let{row:n}=e;return(0,a.jsx)(h.e,{title:(0,T.D)(null===(t=n.original)||void 0===t?void 0:t.status).title,variant:(0,T.D)(null===(r=n.original)||void 0===r?void 0:r.status).variant})}}],[j]);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(N.H,{meta:{...t,title:"Check Transaction / ".concat(null==t?void 0:t.title)}}),(0,a.jsx)("section",{id:"history",className:"relative z-30",children:(0,a.jsxs)("div",{className:"space-y-12",children:[(0,a.jsxs)("div",{className:(0,_.Z)("relative overflow-hidden",{"bg-header-color/50":D}),children:[D&&(0,a.jsx)("div",{className:"absolute z-20 h-full w-full",children:(0,a.jsx)("div",{className:"area",children:(0,a.jsx)("ul",{className:"circles",children:Array.from({length:10},(e,t)=>t).map(e=>(0,a.jsx)("li",{},e))})})}),(0,a.jsxs)("form",{className:(0,_.Z)("container relative z-20 py-12 text-left",{"mx-auto -mb-24 py-32 text-center sm:-mb-32":!D}),onSubmit:C,children:[(0,a.jsx)("h2",{className:(0,_.Z)("max-w-2xl text-3xl font-bold tracking-tight text-text-color sm:text-4xl",{"mx-auto":!D}),children:j("invoice:track-your-order")}),(0,a.jsxs)("p",{className:(0,_.Z)("mt-6 max-w-3xl text-text-color",{"mx-auto":!D}),children:[j("invoice:track-your-order-description")," ",(0,a.jsx)(b.r,{href:"/contact-us",className:"underline decoration-primary-500 underline-offset-2",children:j("common:contact-us")}),"."]}),(0,a.jsxs)("div",{className:(0,_.Z)("mt-6 max-w-xl",{"mx-auto":!D}),children:[(0,a.jsx)(y._,{htmlFor:"invoice",className:"mb-2 text-left",children:j("invoice:your-invoice-number")}),(0,a.jsx)(g.II,{id:"invoice",type:"text",className:"!rounded-md",placeholder:"".concat((0,d.OB)("NEXT_PUBLIC_PREFIX"),"xxxxxxxxxxxx"),...I("invoice")})]}),(0,a.jsx)("div",{className:(0,_.Z)("mt-6 flex items-center justify-start gap-x-6",{"justify-center":!D}),children:(0,a.jsxs)(p.z,{type:"submit",className:"space-x-2 !pl-3 !pr-4",disabled:c,children:[(0,a.jsx)(n,{className:"h-5 w-5"}),(0,a.jsx)("span",{children:c?"Loading...":"Find Transactions"})]})})]})]}),D&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"container sm:flex sm:items-center",children:(0,a.jsxs)("div",{className:"sm:flex-auto",children:[(0,a.jsx)("h1",{className:"text-xl font-semibold text-text-color",children:E?j("invoice:live-transaction"):"10 ".concat(j("invoice:last-transaction"))}),(0,a.jsx)("p",{className:"mt-2 max-w-2xl text-sm text-text-color",children:E?j("invoice:live-transaction-description"):j("invoice:last-transaction-description")})]})}),(0,a.jsx)("div",{className:"container",children:(0,a.jsx)(w.i,{id:"testi",columns:R,fetchData:E?async()=>{}:O.AU,filterQuery:{value:"orders.date:>=".concat((0,s.Z)(new Date(new Date("".concat(k.startDate," ").concat(k.startTime)).toLocaleString("en-US")),"yyyy-MM-dd"),",orders.date:<=").concat((0,s.Z)(new Date(new Date("".concat(k.endDate," ").concat(k.endTime)).toLocaleString("en-US")),"yyyy-MM-dd"))},showFilter:!1,showPageEntries:!1,showPagination:!1,limit:10,sort:"orders.id",dir:S.Nm.DESC,subscribeChannel:"".concat((0,d.OB)("NEXT_PUBLIC_SOCKET_PREFIX"),"_transaction")})})]})]})})]})},"optional",v.Z)},27179:function(e,t,r){"use strict";r.d(t,{AU:function(){return getOrders},ze:function(){return getMyOrders}});var a=r(82120);let getMyOrders=async e=>{let{data:t}=await a.hi.get("/me/order",{params:{...e,page:e.page+1}});return t},getOrders=async e=>{let{limit:t=10,...r}=e,{data:n}=await a.hi.get("/order",{params:{limit:t,...r}});return n}},6254:function(e,t,r){"use strict";r.d(t,{Z:function(){return clsxm}});var a=r(86010),n=r(98388);function clsxm(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,n.m6)((0,a.Z)(t))}},50357:function(e,t,r){"use strict";r.d(t,{D:function(){return getOrderStatusAndTitle},g:function(){return getPaymentStatusAndTitle}});let getOrderStatusAndTitle=e=>{switch(e){case"OrderPending":case 1:default:return{title:"Pending",variant:"warning"};case"OrderOnProcess":case 2:return{title:"Process",variant:"info"};case"OrderCompleted":case 3:return{title:"Success",variant:"success"};case"OrderCancelled":case 4:return{title:"Cancelled",variant:"danger"};case"OrderFailed":case 5:return{title:"Failed",variant:"danger"}}},getPaymentStatusAndTitle=e=>{switch(e){case"PaymentUnpaid":case 1:default:return{id:"badge-unpaid",title:"Unpaid",variant:"danger"};case"PaymentPaid":case 2:return{id:"badge-paid",title:"Paid",variant:"success"};case"PaymentExpired":case 3:return{id:"badge-unpaid",title:"Expired",variant:"danger"};case"PaymentPendingRefund":case 4:return{id:"badge-paid",title:"Pending Refund",variant:"warning"};case"PaymentRefundOnProcess":case 5:return{id:"badge-paid",title:"On Process Refund",variant:"info"};case"PaymentRefunded":case 6:return{id:"badge-paid",title:"Refunded",variant:"success"}}}}},function(e){e.O(0,[4885,2251,5675,8255,2216,8838,1424,3524,8388,9259,4977,9774,2888,179],function(){return e(e.s=48388)}),_N_E=e.O()}]);